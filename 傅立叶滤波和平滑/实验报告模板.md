# 傅立叶滤波和平滑 - 实验报告

## 1. 实验目的

本实验旨在通过对道琼斯工业平均指数数据进行傅立叶变换和滤波处理，达到以下目标：
- 掌握傅立叶变换在金融时间序列分析中的应用
- 理解不同频率成分对信号的影响
- 学习通过频域滤波提取信号特征的方法
- 分析滤波参数变化对结果的影响

## 2. 方法简述

请简要描述您实现的算法和方法，特别是：
- 数据加载和预处理的方法
- 傅立叶变换和逆变换的实现
- 滤波器的设计原理（保留前10%和前2%系数的实现）
- 可视化方法的选择

_在此处填写您的方法描述（约200-300字）_
数据加载与预处理
使用np.loadtxt从dow.txt加载原始数据，通过异常处理机制确保数据完整性。数据格式为单列时间序列，包含2006年下半年至2010年底的每日收盘指数值。

傅立叶变换与滤波
傅立叶变换：通过np.fft.rfft对原始信号进行实数傅立叶变换，得到复数形式的频域系数数组。

滤波设计：根据keep_fraction参数计算保留的系数数量，将剩余高频系数置零。例如，保留前10%系数时，截断后90%的系数。

逆变换重建：使用np.fft.irfft对滤波后的频域系数进行逆变换，得到时域滤波信号。

可视化方法
原始数据图：用蓝色折线显示时间序列，添加网格线和轴标签。

滤波对比图：叠加原始（蓝色半透明）和滤波（红色实线）数据，通过图例区分，突出平滑效果。
## 3. 实验结果

### 3.1 原始数据时间序列

请在此处粘贴您生成的道琼斯工业平均指数原始数据时间序列图，并说明您从图中观察到的特征。
![image](https://github.com/user-attachments/assets/8421f396-fe62-4754-a30e-a3712fc9e796)

_在此处插入原始数据时间序列图像_

图像说明：
_在此处添加对图像的解释（约100字）_
图像说明：原始数据呈现明显波动特征，包含长期上升趋势和短期剧烈震荡，反映了2008年金融危机前后的市场波动。
原始数据呈现显著的非平稳特征，包含长期上升趋势（2006-2007年）和剧烈短期波动（2008年金融危机期间）。2010年后指数逐步恢复，但波动幅度仍较大，反映了宏观经济事件对金融市场的影响。
### 3.2 保留前10%系数的滤波结果

请在此处粘贴您生成的保留前10%傅立叶系数的滤波结果图像，并说明：
1. 滤波后信号与原始信号的差异
2. 被抑制的频率成分对信号的影响
![image](https://github.com/user-attachments/assets/7d1960df-40fd-4c70-bc70-366b3afc1219)

_在此处插入10%滤波结果图像_

图像说明：
_在此处添加对图像的解释（约100字）_
图像说明：滤波后信号保留了主要趋势，短期波动被显著抑制，但局部细节（如季度波动）仍可见。
滤波后信号保留了主要趋势成分，短期噪声（如日级波动）被有效抑制。局部细节如季度级别的周期性波动仍可见，说明前10%的低频系数已涵盖中期经济周期信息。
### 3.3 保留前2%系数的滤波结果

请在此处粘贴您生成的保留前2%傅立叶系数的滤波结果图像，并说明：
1. 与10%滤波结果的对比
2. 更严格滤波对信号的影响
![image](https://github.com/user-attachments/assets/ad22ed88-d85b-478b-a695-42cd2245af21)

_在此处插入2%滤波结果图像_

图像说明：
_在此处添加对图像的解释（约100字）_
图像说明：信号进一步平滑，仅保留年度级别的趋势，高频经济周期特征完全丢失.
信号平滑度显著增加，仅保留年度级别的长期趋势。高频经济周期特征（如季度波动）完全丢失，表明过度滤波可能掩盖重要市场信息，但适用于提取宏观趋势。
## 4. 分析与讨论

### 4.1 不同滤波参数的影响

请讨论：
- 保留10%系数与保留2%系数结果的差异
- 不同滤波强度对信号平滑程度的影响
- 过度滤波可能导致的问题

_在此处填写您的分析（约200字）_
10%系数保留：在保留趋势的同时抑制噪声，适合分析中期市场行为。

2%系数保留：过度平滑导致季度级波动丢失，仅适用于长期趋势预测。

风险提示：过度滤波可能消除真实经济周期信号，导致模型过简化。
### 4.2 金融时间序列的频率特征

讨论道琼斯指数中不同频率成分可能代表的经济现象：
- 低频成分（长期趋势）反映了什么经济因素？
- 高频成分（短期波动）通常由什么因素引起？

_在此处填写您的讨论（约200字）_
低频成分（保留部分）：反映经济政策、产业升级等长期因素，如2008年后量化宽松政策驱动的指数回升。

高频成分（被抑制部分）：对应市场情绪、短期投机等噪声，如金融危机期间的恐慌性抛售波动。


### 4.3 思考题

1. 如果我们对道琼斯指数数据进行对数变换后再进行傅立叶分析，结果会有什么不同？

_在此处填写您的回答（约100字）_

2. 傅立叶变换假设信号是周期性的，但金融数据通常不是严格周期性的。这会导致什么问题？

_在此处填写您的回答（约100字）_
对数变换的影响：
对数据取对数可压缩方差，使高频波动幅度相对降低，频域能量更集中于低频，滤波后趋势更平缓。

非周期性假设问题：
傅立叶变换假设信号周期性，而金融数据具有非平稳性，可能导致频谱泄露和端点伪影。可通过加窗函数（如汉宁窗）缓解。
## 5. 结论

总结本实验的主要发现和收获，包括：
- 傅立叶滤波在金融数据分析中的应用价值
- 不同滤波参数的选择经验
- 实验过程中遇到的挑战和解决方法

_在此处填写您的结论（约150字）_
本实验验证了傅立叶滤波在提取金融时间序列趋势特征中的有效性。结果表明：

保留10%系数能平衡趋势保留与噪声抑制，适用于多数分析场景。

参数选择需结合具体需求，过度滤波可能导致信息损失。

实验难点在于频域系数截断阈值的计算，通过keep_fraction动态控制解决了该问题。


## 核心代码片段

请粘贴您实现的关键函数代码（如滤波函数实现），并简要说明代码的核心思路。

```python
# 在此处粘贴核心代码片段（不超过30行）
```

代码说明：
_在此处简要解释代码的实现思路（约100字）_
